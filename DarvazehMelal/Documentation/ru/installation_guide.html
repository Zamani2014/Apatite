<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
    <title>Microsoft &ndash; My Web Pages Starter Kit &ndash; Руководство по установке</title>
    <meta http-equiv="content-type" content="text/html; charset=windows-1251" /> 
    <style type="text/css">
	
	BODY {background-color: #E7F1FA; margin:0; }
	
	A, A:visited, A:active, A:hover, A:link {
		color: #000000;
		text-decoration: underline;
	}
	
	TD {
		vertical-align: top;
	}
	
	.tit {
		font-family: Verdana,Arial,sans-serif;
		font-size: 20px;
		color: #003399;
	}
	
	.titsub {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		font-weight: bold;
		color: #003399;
		
		line-height: 17px;
	}
	
	.txt {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		color: #000000;
		
		line-height: 17px;
	}
	
	.desctit {
		font-family: Verdana,Arial,sans-serif;
		font-size: 14px;
		font-weight: bold;
		color: #003399;
	}
	
	.desctitsub {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		font-weight: bold;
		color: #003399;
		line-height: 17px;
	}
	
	.desctxt {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		color: #003399;
		line-height: 17px;
	}
	
	</style>
</head>
<body>
    <table width="795" border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td colspan="3">
                <img src="../_img/header_starterkit.jpg" width="795" height="184" alt="" /></td>
        </tr>
        <tr>
            <td width="20">
                <img src="../_img/spacer.gif" width="20" height="1" alt="" /></td>
            <td width="755">
                <table width="755" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="528" height="1">
                            <img src="../_img/spacer.gif" width="528" height="1" alt="" /></td>
                        <td width="20">
                            <img src="../_img/spacer.gif" width="20" height="1" alt="" /></td>
                        <td width="207">
                            <img src="../_img/spacer.gif" width="207" height="1" alt="" /></td>
                    </tr>
                    <tr>
                        <td class="tit">
                            Установка, первые шаги и<br /> важная информация (версия 1.1)</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="height: 238px">
                            <i>My Web Pages Starter Kit (MWPSK)</i> &ndash; это система управления содержимым (Content Management System &ndash; CMS) на базе ASP.NET 2.0. Данное веб-приложение позволяет пользователям настраивать веб-узлы и управлять ими через обозреватель с помощью интерфейса администрирования.<br />  <br /> Пакет <i>My Web Pages Starter Kit</i> состоит из модулей, поэтому его легко расширить. Администраторы могут распаковать пакет непосредственно на сервере и приступить к созданию веб-узлов. С помощью Visual Studio или Visual Studio Web Developer Express Edition разработчики легко настраивают и расширяют функциональные возможности CMS. <br /> <br /> Данный документ содержит описание настройки пакета <i>My Web Pages Starter Kit</i> и советы по разработке пользовательских элементов управления, а также по расширению возможностей CMS. <br /> <br /> Дополнительные вопросы, выпуски и новости по проекту можно найти на странице <a                                 href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=MyWebPagesStarterKit"                                 target="_blank">проекта <i>My Web Pages Starter Kit</i> на веб-узле Codeplex.com</a>.</td>
                        <td style="height: 238px">
                        </td>
                        <td style="height: 238px">
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit">
                            1 Локальный запуск</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td class="txt">
                                        -&nbsp;</td>
                                    <td class="txt">
                                        Извлеките все файлы из ZIP-архива на жесткий диск</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Запустите Visual Studio 2005 или Visual Studio Web Developer Express</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Чтобы открыть веб-узел, выберите команды &laquo;Файл-&gt;Открыть веб-узел&raquo;</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Нажмите клавишу F5, чтобы открыть веб-узел в своем обозревателе</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                    </td>
                                    <td class="txt">
                                        (Если не требуется изменять пакет, то и нет необходимости в локальном запуске веб-приложения. Можно просто распаковать файлы и опубликовать их на своем веб-узле. См. раздел 2)</td>
                                </tr>
                            </table>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit">
                            2 Публикация на веб-узле</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Для работы с пакетом <i>My Web Pages Starter Kit</i> требуется поставщик услуг хостинга ASP.NET 2.0 <a href="http://msdn.microsoft.com/asp.net/info/hosters/"                                             target="_blank">(Выбрать)</a></td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -&nbsp;</td>
                                    <td class="txt">
                                        Отправка файлов<br />
                                        <ul>
                                            <li>Откройте учетную запись хостинга с использованием поставщика услуг хостинга, который поддерживает веб-технологию Microsoft ASP.NET 2.0 <a href="http://msdn.microsoft.com/asp.net/info/hosters/" target="_blank">(Выбрать)</a>. В свою очередь поставщик услуг хостинга предоставит вам данные для доступа, необходимые для управления веб-узлом в качестве веб-мастера.</li>
                                            <li>Отправьте все файлы (кроме папки App_Data) своему поставщику услуг хостинга, чтобы опубликовать пакет <i>My Web Pages Starter Kit</i> на веб-узле поставщика.  Обычно эта операция выполняется с помощью <a href="http://en.wikipedia.org/wiki/Ftp_client"                                                     target="_blank">FTP-клиента</a>. Чтобы воспользоваться им, необходимо получить от поставщика услуг хостинга имя сервера и ваши учетные данные (имя пользователя и пароль).<br /> <em>Примечание.</em> App_Data &ndash; это специальная папка ASP.NET 2.0, для работы с которой нужны особые права (Windows 2000: права на запись для учетной записи ASPNET / Windows 2003: права на запись для учетной записи Network Service и дополнительное право на чтение атрибутов каталогов верхнего уровня). Если поставщик услуг хостинга уже создал эту папку, то ее перезапись приведет к потере указанных особых прав. Если эта папка не существует, создайте ее и запросите у поставщика услуг хостинга право на запись для пользователя ASPNET. Без указанных прав доступа код MWPSK не будет сохранять вашу информацию. </li>
                                            <li>Для работы с пакетом <i>My Web Pages Starter Kit</i> требуется уровень доверия не ниже среднего (<a href="http://msdn.microsoft.com/library/en-us/dnpag2/html/paght000020.asp?frame=true&_r=1"                                                 target="_blank">Дополнительные сведения</a>). Обычно поставщик услуг хостинга заранее устанавливает средний уровень доверия в файле machine.config. Поэтому эта спецификация в файле web.config закомментирована. Если вы локально работаете с пакетом <i>My Web Pages Starter Kit</i>, рекомендуется снять комментарий с данного параметра в файле web.config, чтобы ваш дополнительный код соответствовал ограничениям среднего уровня доверия.</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Запустите веб-обозреватель и введите URL-адрес своего веб-узла <i>My Web Pages Starter Kit</i>. После небольшой паузы <i>My Web Pages Starter Kit</i> создаст в папке App_Code файлы исходных данных и отобразит главную страницу по умолчанию.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Измените пароль администратора, выбрав команды &laquo;Администрирование-&gt;Управление пользователями&raquo;<br> (Исходное имя пользователя &ndash; Администратор; исходный пароль: admin)<br> Войдите в систему с правами администратора (Администратор/ваш_новый_пароль)</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Настройте свой веб-узел с помощью команд &laquo;Администрирование-&gt;Настройка CMS&raquo;<br />
                                        <ul>
                                            <li>ПРИМЕЧАНИЕ. Если вы не указали сервер SMTP или адрес отправителя электронной почты, то все функции и элементы управления для отправки сообщений (такие как сброс паролей, форма контакта и т. д.) будут недоступны.</li>
                                        </ul>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit">
                            3 Архитектура</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub">
                            3.1 Уровень пользовательского интерфейса</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            Файлы ASPX необходимы для обработки страниц. Страницы, доступные для пользователей, находятся в корневом каталоге; страницы администрирования &ndash; в папке &laquo;Администрирование&raquo;. Файл Default.aspx выполняет обработку всех настраиваемых страниц (то есть содержащих ваше собственное наполнение и элементы управления). Кроме того, существуют особые страницы ASPX для выполнения операций поиска, входа в систему и изменения пароля на веб-узле.<br /> <br /> Страница <i>My Web Pages Starter Kit</i> может содержать так называемые разделы, которые представляют собой пользовательские элементы управления (<a href="http://msdn2.microsoft.com/en-us/library/y6wb1a0e.aspx" target="_blank">дополнительные сведения</a>), принадлежащие классу SectionControlBaseClass. Чтобы можно было использовать элемент управления в <i>My Web Pages Starter Kit</i>, он должен отвечать следующим критериям.
                            <ul>
                                <li>Наследовать ваш элемент управления от класса <code><i>My Web Pages Starter Kit</i>.Controls.SectionControlBaseClass</code></li>
                                <li>Помимо элемента управления, вам всегда нужно создавать класс, содержащий бизнес-логику и данные для конкретного раздела (см. также уровень доступа к данным).</li>
                            </ul>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub">
                            3.2 Бизнес-логика</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            Обычные классы: не используйте их в качестве объектов данных и не вставляйте в них код структуры или пользовательского интерфейса.</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub">
                            3.3 Уровень доступа к данным</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            При среднем уровне доверия ASP.NET 2.0 (а следовательно, и <i>My Web Pages Starter Kit</i>) разрешает запись файлов в папку App_Data. Общий класс &laquo;Сохраняемый&raquo; упрощает доступ к данным.<br /> <br /> Чтобы создать новый раздел (например, под названием <code>MySection</code>), сохраняющий свои данные, необходимо получить класс из раздела <code>Section&lt;T&gt;</code>, где <code>&lt;T&gt;</code> &ndash; <code>MySection.MySectionData</code><br /> Ваш класс должен быть объявлен следующим образом: <br /> <code>class MySection : Section&lt;MySection.MySectionData&gt;</code><br /> <br /> Класс <code>MySectionData</code> должен быть внутренним классом <code>MySection</code>. Все поля, которые должны оставаться постоянными, необходимо включить в этот внутренний класс в качестве общих элементов. В классе <code>MySection</code> можно получить доступ ко всем элементам внутреннего класса с помощью элемента <code>_data</code>, унаследованного от раздела <code>Section&lt;T&gt;</code>. Если вы создали экземпляр раздела и передали уникальный идентификатор конструктору, то данные, соответствующие этому идентификатору, автоматически выгружаются из папки App_Data и к ним можно обратиться с помощью элемента <code>_data</code>.<br /> <br /> Если в каком-либо месте кода нужно изменить значения и сохранить их снова в папке App_Data, вызовите метод <code>SaveData()</code> вашего раздела (наследуется от раздела <code>Section&lt;T&gt;</code>).<br /> <br /> Удобной отправной точкой для разработки собственных разделов служит раздел HtmlContent, который прилагается к пакету <i>My Web Pages Starter Kit</i>, поскольку он демонстрирует основные принципы лишь в нескольких строках кода.
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit">
                            4 О чем нужно помнить из соображений безопасности</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub">
                            4.1 Веб-мастер</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            Веб-мастеру нужно придерживаться следующих правил.<br />
                            <ol>
                                <li>Сразу после развертывания веб-узла <i>My Web Pages Starter Kit</i> изменить пароль администратора.</li>
                                <li>Войти в систему с правами администратора и задать сервер SMTP (необходимые данные можно получить у поставщика услуг хостинга), а также свой адрес электронной почты для учетной записи администратора.</li>
                                <li>Подписаться на сервер новостей <i>My Web Pages Starter Kit</i>, чтобы получать важные уведомления о безопасности.</li>
                                <li>Оценить безопасность общей среды хостинга, перед тем как выбрать <i>My Web Pages Starter Kit</i>, среду хостинга и тип учетной записи.<br />
                                    <ol type="a">
                                        <li>Не хранить на веб-узле в общей среде хостинга личной информации, такой как:<br />
                                            <ul>
                                                <li>личные данные других пользователей;</li>
                                                <li>медицинская информация;</li>
                                                <li>данные кредитных карт.</li>
                                            </ul>
                                        </li>
                                        <li>Оценивать уровень безопасности общей инфраструктуры хостинга с точки зрения поставленных целей.</li>
                                        <li>Оценивать целесообразность нешифрованного обмена информацией (имена пользователей, пароли).</li>
                                    </ol>
                                </li>
                                <li>Регулярно создавать резервные копии данных путем загрузки содержимого папки App_Data через FTP.</li>
                                <li>Четко распределять обязанности по управлению главной страницей:<br />
                                    <ol type="a">
                                        <li>Кто получает уведомления о проблемах безопасности? </li>
                                        <li>Кто выполняет регулярное резервное копирование?</li>
                                    </ol>
                                </li>
                            </ol>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub">
                            4.2 Разработчик</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            Разработчику нужно придерживаться следующих правил.<br />
                            <ol>
                                <li>Не изменять способ хэширования паролей.</li>
                                <li>Избегать расширения программного обеспечения способом, поддерживающим хранение конфиденциальной информации, которая недостаточно защищена в общей среде хостинга, например:<br />
                                    <ul>
                                        <li>личные данные других пользователей;</li>
                                        <li>медицинская информация;</li>
                                        <li>данные кредитных карт.</li>
                                    </ul>
                                </li>
                                <li>Полагаться на лучшие методы защиты при расширении и модификации пакета.</li>
                                <li>Подписаться на сервер новостей <i>My Web Pages Starter Kit</i>, чтобы получать последние сведения о проблемах безопасности.</li>
                                <li>Поддерживать связь с лицами, для которых был изменен, расширен или внедрен пакет <i>My Web Pages Starter Kit</i> и которых нужно информировать о проблемах безопасности.</li>
                                <li>Всегда копировать исходный код, поскольку в будущем может понадобиться протестировать или интегрировать изменения в зависимости от исправлений безопасности.</li>
                            </ol>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit">
                            5 Настройка IIS для галереи Silverlight </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            Если язык XAML не определен в IIS в качестве типа MIME, то модуль Silverlight загрузить невозможно. Чтобы отобразить галерею Silverlight, настройте IIS следующим образом (перечисленные действия не нужно выполнять, если используется IIS версии 7.0 или более поздней, поскольку тип MIME языка XAML в этой версии уже определен).<br />
                            <ol>
                                <li>Выберите свой веб-узел в IIS</li>
                                <li>В контекстном меню выберите пункт &laquo;Свойства&raquo;</li>
                                <li>Выберите список &laquo;Заголовок HTTP&raquo;</li>
                                <li>Нажмите кнопку &laquo;Типы MIME...&raquo;</li>
                                <li>Если .xaml не входит в список типов, выберите команду &laquo;Создать&raquo;</li>
                                <li>Введите следующее описание: <br />
                                    <table cellpadding="0" cellspacing="0">
                                        <tr>
                                            <td>
                                                Расширение:</td>
                                            <td width="15px">
                                            </td>
                                            <td>
                                                .xaml</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Тип MIME:</td>
                                            <td width="15px">
                                            </td>
                                            <td>
                                                application/xaml+xml</td>
                                        </tr>
                                    </table>
                                </li>
                                <li>Нажмите кнопку ОК, а затем кнопку &laquo;Применить&raquo;</li>
                            </ol>
                            <a href="http://msdn2.microsoft.com/en-us/library/ms752346.aspx"                                 target="_blank">Дополнительные сведения</a>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
