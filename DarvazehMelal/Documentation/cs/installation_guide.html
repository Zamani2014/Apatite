<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="cs">
<head>
    <title>Microsoft - My Web Pages Starter Kit - Návod k instalaci</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <style type="text/css">
	
	BODY {background-color: #E7F1FA; margin:0; }
	
	A, A:visited, A:active, A:hover, A:link {
		color: #000000;
		text-decoration: underline;
	}
	
	TD {
		vertical-align: top;
	}
	
	.tit {
		font-family: Verdana,Arial,sans-serif;
		font-size: 20px;
		color: #003399;
	}
	
	.titsub {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		font-weight: bold;
		color: #003399;
		
		line-height: 17px;
	}
	
	.txt {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		color: #000000;
		
		line-height: 17px;
	}
	
	.desctit {
		font-family: Verdana,Arial,sans-serif;
		font-size: 14px;
		font-weight: bold;
		color: #003399;
	}
	
	.desctitsub {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		font-weight: bold;
		color: #003399;
		line-height: 17px;
	}
	
	.desctxt {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		color: #003399;
		line-height: 17px;
	}
	
	</style>
</head>
<body>
    <table width="795" border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td colspan="3">
                <img src="../_img/header_starterkit.jpg" width="795" height="184" alt="" /></td>
        </tr>
        <tr>
            <td width="20">
                <img src="../_img/spacer.gif" width="20" height="1" alt="" /></td>
            <td width="755">
                <table width="755" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td height="1" style="width: 529px">
                            <img src="../_img/spacer.gif" width="528" height="1" alt="" /></td>
                        <td width="20">
                            <img src="../_img/spacer.gif" width="20" height="1" alt="" /></td>
                        <td width="207">
                            <img src="../_img/spacer.gif" width="207" height="1" alt="" /></td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            Instalace, nastavení a důležité informace
                            <br />
                            (verze 1.1)</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="height: 238px; width: 529px;">
                            <i>My Web Pages Starter Kit</i> je Content Management System (CMS) napsaný v ASP.NET
                            2.0. Jedná se o webovou aplikaci, která uživatelům umožňuje vytvořit a spravovat
                            webovou prezentaci přes webové rozhraní, pomocí internetového prohlížeče.<br />
                            <br />
                            Aplikace <em>My Web Pages Starter Kit</em> je složena z modulů a je snadno rozšiřitelná.
                            Administrátoři ji mohou rozbalit přímo na web server a začít nastavovat webovou
                            stránku. Vývojáři mohou pomocí Microsoft Visual Studia nebo Web Developer Express
                            Edition tento CMS snadno upravovat a rozšiřovat jeho schopnosti.<br />
                            <br />
                            Tento dokument vysvětluje, jak můžete My Web Pages Starter Kit nainstalovat, zkonfigurovat
                            a naznačuje, jak můžete vyvíjet své vlastní moduly a dále CMS rozšiřovat.<br />
                            <br />
                            Pro podrobnější informace, zprávy, novější verze a podobně se podívejte na projekt
                            <a href="http://www.codeplex.com/MyWebPagesStarterKit">My Web Pages Starter Kit na serveru
                                Codeplex.com</a>.</td>
                        <td style="height: 238px">
                        </td>
                        <td style="height: 238px">
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            1 Spuštění na vlastním počítači</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 529px">
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td class="txt">
                                        -&nbsp;</td>
                                    <td class="txt">
                                        Rozbalte obsah ZIP souboru na váš harddisk</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Spusťte Visual Studio 2005 nebo Visual Studio Web Developer Express</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Příkazem "File->Open Web Site" z menu otevřete webový projekt</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Stiskem F5 spustíte web ve svém prohlížeči</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                    </td>
                                    <td class="txt">
                                        (Poznámka: Pokud nechcete aplikaci upravovat, nemusíte ji ve vývojovém nástroji
                                        spouštět. Můžete ji nahrát přímo na web server u hostera a nastavit ji tam, viz
                                        následující sekce.)</td>
                                </tr>
                            </table>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            2 Vystavení na server u hostera</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 529px">
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Pro provoz aplikace <i>My Web Pages Starter Kit</i> potřebujete, aby poskytovatel
                                        vašeho hostingu podporoval technologii ASP.NET 2.0.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -&nbsp;</td>
                                    <td class="txt">
                                        Nahrajte soubory<br />
                                        <ul>
                                            <li>Zaregistrujte se u hostera, který podporuje technologii ASP.NET 2.0. Poté vám hoster
                                                pošle přístupová data potřebná k tomu, abyste mohli přistupovat ke svému virtuálnímu
                                                serveru.</li>
                                            <li>Nainstalujte <em>My Web Pages Starter Kit</em> na server tím, že tam přenesete všechny
                                                soubory, s výjimkou adresáře App_Data. Obvykle se tak děje prostřednictvím FTP klienta.
                                                Abyste mohli nahrát data na server, potřebujete k tomu jeho jméno a uživatelské
                                                jméno a heslo, které vám bylo sděleno při registraci.<br />
                                                <em>Poznámka:</em> Adresář App_Data je speciální adresář ASP.NET a vyžaduje speciální
                                                nastavení práv. Uživatel, pod kterým běží ASP.NET (jmenuje se "ASPNET" na Windows
                                                2000 nebo "Network Service" na Windows 2003) do něj musí mít právo zápisu. Pokud
                                                je tento adresář na vašem serveru už vytvořen, nemažte ho, protože jinak ztratíte
                                                toto nastavení práv. Pokud neexistuje, tak jej vytvořte a požádejte svého hostera,
                                                aby mu tato práva nastavil, nebude-li MWSK fungovat.</li>
                                            <li><i>My Web Pages Starter Kit</i> pro svůj běh požaduje nastavení alespoň "medium
                                                trust" (<a href="http://msdn.microsoft.com/library/en-us/dnpag2/html/paght000020.asp?frame=true&_r=1">více</a>).
                                                Obvykle toto nastavení provedl už poskytovatel hostingu v souboru machine.config
                                                a proto je příslušná direktiva ve web.configu zakomentována. Pokud budete na lokálním
                                                počítači provádět nějaké změny, doporučujeme toto nastavení odkomentovat, abyste
                                                si byli jisti, že váš nový kód bude fungovat i v medium trust.</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Spuste svůj webový prohlížeč a zadejte do něj adresu svého nového webu. První spuštění
                                        trvá delší dobu, protože MWSK vytváří výchozí data. Poté se vám ukáže úvodní stránka.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Změteň své administrátorské heslo tím, že klepnete na Login &gt; Change Password.
                                        Původní uživatelské jméno je <strong>admin</strong> a heslo <strong>admin</strong>.
                                        Poté se přihlašte svým novým heslem.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Nastavte vlastnosti svého webu v sekci "Administration->CMS Setup". Zde také můžete
                                        přepnout uživatelské rozhraní aplikace do českého jazyka.<br />
                                        <ul>
                                            <li><em>Poznámka:</em> Dokud nenastavíte jméno SMTP serveru a e-mailovou adresu odesílatele,
                                                nebudou dostupné některé funkce, které využívají posílání e-mailů, například zaslání
                                                zapomenutého hesla nebo kontaktní formulář.</li>
                                        </ul>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            3 Architektura</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            3.1 Prezentační vrstva</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Za renderování stránek jsou zodpovědné ASPX soubory. Stránky přístupné uživatelům
                            jsou v kořenovém adresáři, administrační rozhraní je ve složce "administration".
                            Soubor Default.aspx se stará o vytváření všech dynamicky generovaných stránek (tedy
                            těch, které obsahují vámi definovaný obsah). Navíc jsou v aplikaci další stránky
                            pro přihlašování, změnu hesla a vyhledávání.<br />
                            <br />
                            Stránka MWSK může obsahovat takzvané sekce, což jsou UserControls (<a href="http://msdn2.microsoft.com/en-us/library/y6wb1a0e.aspx">více</a>)
                            odvozené od třídy SectionControlBaseClass. Abyste mohli používat svůj control v
                            rámci MWSK, musíte:
                            <ul>
                                <li>Jako base class pro svou komponentu použijte <code>MyWebPagestarterKit.Controls.SectionControlBaseClass</code></li>
                                <li>Spolu se svým controlem byste vždy měli vytvořit třídu, která bude obsahovat aplikační
                                    vrstvu a přistupovat k datům. Více viz následující sekce.</li>
                            </ul>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            3.2 Aplikační vrstva</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Je realizována pomocí standardních tříd. Pamatujte, že byste je měli používat pouze
                            jako zdroj dat a nepsat do nich generování uživatelského rozhraní.</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            3.3 Datová vrstva</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            ASP.NET 2.0 v režimu medium trust mode (a tedy i <i>My Web Pages Starter Kit</i>)
                            může zapisovat do adresáře App_Data. Přístup k datům usnadňuje generická třída Persistable.<br />
                            <br />
                            Pokud chcete vytvořit novou sekci (bude se jmenovat např. <code>MySection</code>),
                            která bude uchovávat perzistentní data, musíte podědit tuto třídu od <code>Section&lt;T&gt;</code>,
                            kde <code>&lt;T&gt;</code> je <code>MySection.MySectionData</code><br />
                            Deklarace vaší třídy by tedy měla začínat následovně:
                            <br />
                            <code>class MySection : Section&lt;MySection.MySectionData&gt;</code><br />
                            <br />
                            Třída <code>MySectionData</code> musí být podtřída <code>MySection</code>. Všechna
                            pole, která chcete, aby se uchovávala, musejí být přístupná v této podtřídě jako
                            veřejné položky. Z vaší třídy <code>MySection</code> k nim pak můžete přistupovat
                            pomocí proměnné <code>_data</code>, která je definována v <code>Section&lt;T&gt;</code>.
                            Kdykoliv vytvoříte instanci vaší sekce a předáte jejímu konstruktoru unikátní identifikátor,
                            odpovídající data budou automaticky načtena z adresáře App_Data a můžete k nim přistupovat
                            pomocí zmíněné proměnné <code>_data</code>.<br />
                            <br />
                            Pokud v kódu změníte načtená data a budete je chtít uložit do souborů, zavolejte
                            ve své třídě metodu <code>SaveData()</code> (je poděděná od <code>Section&lt;T&gt;</code>).<br />
                            <br />
                            Dobrým místem pro inspiraci je sekce HtmlContent, která je součástí MWSK, protože
                            ukazuje základní principy na pár řádcích kódu.
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            4 Bezpečnostní hlediska</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px; height: 19px;">
                            4.1 Webmaster</td>
                        <td style="height: 19px">
                        </td>
                        <td style="height: 19px">
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Webmaster by si měl zapamatovat následující důležité věci:<br />
                            <ol>
                                <li>Jako první akci po vytvoření nového webu založeného na MWSK si prosím změňte heslo
                                    uživatele Admin.</li>
                                <li>Přihlašte se jako administrátor a nastavte SMTP server (jeho název vám sdělí váš
                                    hoster) a také adresu odesílatele e-mailových zpráv.</li>
                                <li>Přihlašte se do newsfeedu projektu <i>My Web Pages Starter Kit</i>, protože v něm
                                    mohou být zveřejňovány důležité zprávy týkající se bezpečnosti. </li>
                                <li>Zamyslete se nad bezpečnostnmi hledisky provozu webu na sdíleném hostingu a zvolte
                                    odpovídající typ služeb.<br />
                                    <ol type="a">
                                        <li>V žádném příkladě neukládejte na serveru při sdíleném hostingu citlivé údaje, jako
                                            například:
                                            <ul>
                                                <li>osobní údaje jiných lidí</li>
                                                <li>údaje o zdravotním stavu</li>
                                                <li>čísla platebních karet</li>
                                            </ul>
                                        </li>
                                        <li>Zvažte, zda je infrastruktura sdíleného hostingu dostatečně bezpečná pro vámi zamýšlené
                                            využití. </li>
                                        <li>Zvažte, zda je bezpečné používat nešifrovanou komunikaci (zejména pro zasílání uživatelských
                                            jmen a hesel při přihlašování. </li>
                                    </ol>
                                </li>
                                <li>Pravidelně zálohujte obsah svého webu tak, že si stáhnete na svůj disk obsah adresáře
                                    App_Data. </li>
                                <li>Jasně určete kdo bude zodpovědný za provoz vaší aplikace:<br />
                                    <ol type="a">
                                        <li>Kdo bude sledovat zprávy o bezpečnosti? </li>
                                        <li>Kdo bude provádět pravidelné zálohy? </li>
                                    </ol>
                                </li>
                            </ol>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            4.2 Vývojář</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Vývojář by si měl pamatovat následující věci:<br />
                            <ol>
                                <li>Neměteň způsob, jakým jsou hashována ukládaná hesla.. </li>
                                <li>Nerozšiřujte tento software takovým způsobem, který by podporoval ukládání citlivých
                                    údajů, které nejsou při sdíleném hostingu dostatečně chráněné, jako například:
                                    <ul>
                                        <li>osobní údaje jiných lidí</li>
                                        <li>údaje o zdravotním stavu</li>
                                        <li>čísla platebních karet</li>
                                    </ul>
                                </li>
                                <li>Při úpravách a rozšiřování aplikace <em>My Web Pages Starter Kit</em> dodržujte
                                    bezpečnostní zásady.</li>
                                <li>Přihlašte se do newsfeedu projektu <i>My Web Pages Starter Kit</i>, protože v něm
                                    mohou být zveřejňovány důležité zprávy týkající se bezpečnosti. </li>
                                <li>Udržujte nějakou formu kontaktu se svými uživateli, abyste je mohli včas upozornit,
                                    pokud by se objevil bezpečnostní problém. </li>
                                <li>Ujistěte se, že vždy máte kopii svého zdrojového kódu, ve které byste mohli provádět
                                    opravy v případě bezpečnostních problémů. </li>
                            </ol>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit">
                            5 Nastavení IIS pro Silverlight galerii</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt">
                            Protože XAML není v IIS definováno jako MIME type, Silverlight plug-in nemůže být
                            korektně nahrán.Pokud chcete zobrazit Silverlight galerii, prosím nakonfigurujte
                            IIS následovně: (Tyto kroky nejsou potřebné, pokud používáte IIS 7.0 a vyšší.V těchto
                            verzích je již XAML definován jako MIME type.)<br />
                            <ol>
                                <li>Vyberte Vaši webovou stránku v IIS</li>
                                <li>Otevřete kontextové menu a vyberte "Vlastnosti"</li>
                                <li>Vyberte registr "HTTP-Header"</li>
                                <li>Klikněte na tlačítko "MIME Typy..."</li>
                                <li>Pokud .xaml není zobrazen jako type, vyberte "Nový"</li>
                                <li>Vložte následující popis:
                                    <br />
                                    <table cellpadding="0" cellspacing="0">
                                        <tr>
                                            <td>
                                                Extension:</td>
                                            <td width="15px">
                                            </td>
                                            <td>
                                                .xaml</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                MIME type:</td>
                                            <td width="15px">
                                            </td>
                                            <td>
                                                application/xaml+xml</td>
                                        </tr>
                                    </table>
                                </li>
                                <li>Klikněte "OK" a zvolte "Použít"</li>
                            </ol>
                            <a href="http://msdn2.microsoft.com/en-us/library/ms752346.aspx" target="_blank">Více informací</a>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
