<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <title>Microsoft - My Web Pages Starter Kit - Návod k instalaci</title>
    <style type="text/css">
	
	BODY {background-color: #E7F1FA; margin:0; }
	
	A, A:visited, A:active, A:hover, A:link {
		color: #000000;
		text-decoration: underline;
	}
	
	TD {
		vertical-align: top;
	}
	
	.tit {
		font-family: Verdana,Arial,sans-serif;
		font-size: 20px;
		color: #003399;
	}
	
	.titsub {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		font-weight: bold;
		color: #003399;
		
		line-height: 17px;
	}
	
	.txt {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		color: #000000;
		
		line-height: 17px;
	}
	
	.desctit {
		font-family: Verdana,Arial,sans-serif;
		font-size: 14px;
		font-weight: bold;
		color: #003399;
	}
	
	.desctitsub {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		font-weight: bold;
		color: #003399;
		line-height: 17px;
	}
	
	.desctxt {
		font-family: Verdana,Arial,sans-serif;
		font-size: 11px;
		color: #003399;
		line-height: 17px;
	}
	
	</style>
</head>
<body>
    <table width="795" border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td colspan="3">
                <img src="../_img/header_starterkit.jpg" width="795" height="184" alt="" /></td>
        </tr>
        <tr>
            <td width="20">
                <img src="../_img/spacer.gif" width="20" height="1" alt="" /></td>
            <td width="755">
                <table width="755" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td height="1" style="width: 529px">
                            <img src="../_img/spacer.gif" width="528" height="1" alt="" /></td>
                        <td width="20">
                            <img src="../_img/spacer.gif" width="20" height="1" alt="" /></td>
                        <td width="207">
                            <img src="../_img/spacer.gif" width="207" height="1" alt="" /></td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            Instalace, nastavení a dùleité informace
                            <br />
                            (verze 1.0)</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="height: 238px; width: 529px;">
                            <i>My Web Pages Starter Kit</i> je Content Management System (CMS) napsanı v ASP.NET 2.0. Jedná se o webovou aplikaci, která uivatelùm umoòuje vytvoøit a spravovat webovou prezentaci pøes webové rozhraní, pomocí internetového prohlíeèe.<br />
                            <br />
                            Aplikace <em>My Web Pages Starter Kit</em> je sloena z modulù a je snadno rozšiøitelná. Administrátoøi ji mohou rozbalit pøímo na web server a zaèít nastavovat webovou stránku. Vıvojáøi mohou pomocí Microsoft Visual Studia nebo Web Developer Express Edition tento CMS snadno upravovat a rozšiøovat jeho schopnosti.<br />
                            <br />
                            Tento dokument vysvìtluje, jak mùete My Web Pages Starter Kit nainstalovat, zkonfigurovat a naznaèuje, jak mùete vyvíjet své vlastní moduly a dále CMS rozšiøovat.<br />
                            <br />
                            Pro podrobnìjší informace, zprávy, novìjší verze a podobnì se podívejte na projekt <a href="http://www.codeplex.com/MyWebPagesStarterKit">My Web Pages Starter Kit na serveru Codeplex.com</a>.</td>
                        <td style="height: 238px">
                        </td>
                        <td style="height: 238px">
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            1 Spuštìní na vlastním poèítaèi</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 529px">
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td class="txt">
                                        -&nbsp;</td>
                                    <td class="txt">
                                        Rozbalte obsah ZIP souboru na váš harddisk</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Spuste Visual Studio 2005 nebo Visual Studio Web Developer Express</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Pøíkazem "File->Open Web Site" z menu otevøete webovı projekt</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Stiskem F5 spustíte web ve svém prohlíeèi</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                    </td>
                                    <td class="txt">
                                        (Poznámka: Pokud nechcete aplikaci upravovat, nemusíte ji ve vıvojovém nástroji spouštìt. Mùete ji nahrát pøímo na web server u hostera a nastavit ji tam, viz následující sekce.)</td>
                                </tr>
                            </table>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            2 Vystavení na server u hostera</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 529px">
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Pro provoz aplikace <i>My Web Pages Starter Kit</i> potøebujete, aby poskytovatel vašeho hostingu podporoval technologii ASP.NET 2.0.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -&nbsp;</td>
                                    <td class="txt">
                                        Nahrajte soubory<br />
                                        <ul>
                                            <li>Zaregistrujte se u hostera, kterı podporuje technologii ASP.NET 2.0. Poté vám hoster pošle pøístupová data potøebná k tomu, abyste mohli pøistupovat ke svému virtuálnímu serveru.</li>
                                            <li>Nainstalujte <em>My Web Pages Starter Kit</em> na server tím, e tam pøenesete všechny soubory, s vıjimkou adresáøe App_Data. Obvykle se tak dìje prostøednictvím FTP klienta. Abyste mohli nahrát data na server, potøebujete k tomu jeho jméno a uivatelské jméno a heslo, které vám bylo sdìleno pøi registraci.<br />
                                                <em>Poznámka:</em> Adresáø App_Data je speciální adresáø ASP.NET a vyaduje speciální nastavení práv. Uivatel, pod kterım bìí ASP.NET (jmenuje se "ASPNET" na Windows 2000 nebo "Network Service" na Windows 2003) do nìj musí mít právo zápisu. Pokud je tento adresáø na vašem serveru u vytvoøen, nemate ho, protoe jinak ztratíte toto nastavení práv. Pokud neexistuje, tak jej vytvoøte a poádejte svého hostera, aby mu tato práva nastavil, nebude-li MWSK fungovat.</li>
                                            <li><i>My Web Pages Starter Kit</i> pro svùj bìh poaduje nastavení alespoò "medium trust" (<a href="http://msdn.microsoft.com/library/en-us/dnpag2/html/paght000020.asp?frame=true&_r=1">více</a>). Obvykle toto nastavení provedl u poskytovatel hostingu v souboru machine.config a proto je pøíslušná direktiva ve web.configu zakomentována. Pokud budete na lokálním poèítaèi provádìt nìjaké zmìny, doporuèujeme toto nastavení odkomentovat, abyste si byli jisti, e váš novı kód bude fungovat i v medium trust.</li></ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Spuste svùj webovı prohlíeè a zadejte do nìj adresu svého nového webu. První spuštìní trvá delší dobu, protoe MWSK vytváøí vıchozí data. Poté se vám ukáe úvodní stránka.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Zmìòte své administrátorské heslo tím, e klepnete na Login &gt; Change Password. Pùvodní uivatelské jméno je <strong>admin</strong> a heslo <strong>admin</strong>. Poté se pøihlašte svım novım heslem.</td>
                                </tr>
                                <tr>
                                    <td class="txt">
                                        -</td>
                                    <td class="txt">
                                        Nastavte vlastnosti svého webu v sekci "Administration->CMS Setup". Zde také mùete pøepnout uivatelské rozhraní aplikace do èeského jazyka.<br />
                                        <ul>
                                            <li><em>Poznámka:</em> Dokud nenastavíte jméno SMTP serveru a e-mailovou adresu odesílatele, nebudou dostupné nìkteré funkce, které vyuívají posílání e-mailù, napøíklad zaslání zapomenutého hesla nebo kontaktní formuláø.</li></ul>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            3 Architektura</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            3.1 Prezentaèní vrstva</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Za renderování stránek jsou zodpovìdné ASPX soubory. Stránky pøístupné uivatelùm jsou v koøenovém adresáøi, administraèní rozhraní je ve sloce "administration". Soubor Default.aspx se stará o vytváøení všech dynamicky generovanıch stránek (tedy tìch, které obsahují vámi definovanı obsah). Navíc jsou v aplikaci další stránky pro pøihlašování, zmìnu hesla a vyhledávání.<br />
                            <br />
                            Stránka MWSK mùe obsahovat takzvané sekce, co jsou UserControls (<a href="http://msdn2.microsoft.com/en-us/library/y6wb1a0e.aspx">více</a>) odvozené od tøídy SectionControlBaseClass. Abyste mohli pouívat svùj control v rámci MWSK, musíte:
                            <ul>
                                <li>Jako base class pro svou komponentu pouijte <code>MyWebPagestarterKit.Controls.SectionControlBaseClass</code></li>
                                <li>Spolu se svım controlem byste vdy mìli vytvoøit tøídu, která bude obsahovat aplikaèní vrstvu a pøistupovat k datùm. Více viz následující sekce.</li></ul>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            3.2 Aplikaèní vrstva</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Je realizována pomocí standardních tøíd. Pamatujte, e byste je mìli pouívat pouze jako zdroj dat a nepsat do nich generování uivatelského rozhraní.</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            3.3 Datová vrstva</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            ASP.NET 2.0 v reimu medium trust mode (a tedy i <i>My Web Pages Starter Kit</i>) mùe zapisovat do adresáøe App_Data. Pøístup k datùm usnadòuje generická tøída Persistable.<br />
                            <br />
                            Pokud chcete vytvoøit novou sekci (bude se jmenovat napø. <code>MySection</code>), která bude uchovávat perzistentní data, musíte podìdit tuto tøídu od <code>Section&lt;T&gt;</code>, kde <code>&lt;T&gt;</code> je <code>MySection.MySectionData</code><br />
                            Deklarace vaší tøídy by tedy mìla zaèínat následovnì:
                            <br />
                            <code>class MySection : Section&lt;MySection.MySectionData&gt;</code><br />
                            <br />
                            Tøída <code>MySectionData</code> musí bıt podtøída <code>MySection</code>. Všechan pole, která chcete, aby se uchovávala, musejí bıt pøístupná v této podtøídì jako veøejné poloky. Z vaší tøídy <code>MySection</code> k nim pak mùete pøistupovat pomocí promìnné <code>_data</code>, která je definována v <code>Section&lt;T&gt;</code>. Kdykoliv vytvoøíte instanci vaší sekce a pøedáte jejímu konstruktoru unikátní identifikátor, odpovídající data budou automaticky naètena z adresáøe App_Data a mùete k nim pøistupovat pomocí zmínìné promìnné <code>_data</code>.<br />
                            <br />
                            Pokud v kódu zmìníte naètená data a budete je chtít uloit do souborù, zavolejte ve své tøídì metodu <code>SaveData()</code> (je podìdìná od <code>Section&lt;T&gt;</code>).<br />
                            <br />
                            Dobrım místem pro inspiraci je sekce HtmlContent, která je souèástí MWSK, protoe ukazuje základní principy na pár øádcích kódu.
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="40" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="tit" style="width: 529px">
                            4 Bezpeènostní hlediska</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px; height: 19px;">
                            4.1 Webmaster</td>
                        <td style="height: 19px">
                        </td>
                        <td style="height: 19px">
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Webmaster by si mìl zapamatovat následující dùleité vìci:<br />
                            <ol>
                                <li>Jako první akci po vytvoøení nového webu zaloeného na MWSK si prosím zmìòte heslo uivatele Admin.</li><li>Pøihlašte se jako administrátor a nastavte SMTP server (jeho název vám sdìlí váš hoster) a také adresu odesílatele e-mailovıch zpráv.</li>
                                <li>Pøihlašte se do newsfeedu projektu <i>My Web Pages Starter Kit</i>, protoe v nìm mohou bıt zveøejñovány dùleité zprávy tıkající se bezpeènosti. </li>
                                <li>Zamyslete se nad bezpeènostnmi hledisky provozu webu na sdíleném hostingu a zvolte odpovídající typ slueb.<br />
                                <ol type="a">
                                    <li>V ádném pøíkladì neukládejte na serveru pøi sdíleném hostingu citlivé údaje, jako napøíklad:
                                        <ul>
                                            <li>osobní údaje jinıch lidí</li>
                                            <li>údaje o zdravotním stavu</li>
                                            <li>èísla platebních karet</li>
                                        </ul>
                                    </li>
                                    <li>Zvate, zda je infrastruktura sdíleného hostingu dostateènì bezpeèná pro vámi zamıšlené vyuití. </li>
                                    <li>Zvate, zda je bezpeèné pouívat nešifrovanou komunikaci (zejména pro zasílání uivatelskıch jmen a hesel pøi pøihlašování. </li>
                                </ol>
                                </li>
                                <li>Pravidelnì zálohujte obsah svého webu tak, e si stáhnete na svùj disk obsah adresáøe App_Data. </li>
                                <li>Jasnì urèete kdo bude zodpovìdnı za provoz vaší aplikace:<br />
                                    <ol type="a">
                                        <li>Kdo bude sledovat zprávy o bezpeènosti? </li>
                                        <li>Kdo bude provádìt pravidelné zálohy? </li>
                                    </ol>
                                </li>
                            </ol>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="titsub" style="width: 529px">
                            4.2 Vıvojáø</td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="20" colspan="3">
                        </td>
                    </tr>
                    <tr>
                        <td class="txt" style="width: 529px">
                            Vıvojáø by si mìl pamatovat následující vìci:<br />
                            <ol>
                                <li>Nemìòte zpùsob, jakım jsou hashována ukládaná hesla.. </li>
                                <li>Nerozšiøujte tento software takovım zpùsobem, kterı by podporoval ukládání citlivıch údajù, které nejsou pøi sdíleném hostingu dostateènì chránìné, jako napøíklad:
                                    <ul>
                                        <li>osobní údaje jinıch lidí</li>
                                        <li>údaje o zdravotním stavu</li>
                                        <li>èísla platebních karet</li>
                                    </ul>
                                </li>
                                <li>Pøi úpravách a rozšiøování aplikace <em>My Web Pages Starter Kit</em> dodrujte bezpeènostní zásady.</li><li>Pøihlašte se do newsfeedu projektu <i>My Web Pages Starter Kit</i>, protoe v nìm mohou bıt zveøejñovány dùleité zprávy tıkající se bezpeènosti. </li>
                                <li>Udrujte nìjakou formu kontaktu se svımi uivateli, abyste je mohli vèas upozornit, pokud by se objevil bezpeènostní problém. </li>
                                <li>Ujistìte se, e vdy máte kopii svého zdrojového kódu, ve které byste mohli provádìt opravy v pøípadì bezpeènostních problémù. </li>
                            </ol>
                        </td>
                        <td>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td height="25" colspan="3">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
